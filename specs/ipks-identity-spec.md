# IPKS Identity & Authorship Specification
**Draft Version 0.1**

## Abstract

This specification defines the identity and authorship model for the InterPlanetary Knowledge System (IPKS). It details how Decentralized Identifiers (DIDs) are integrated with Knowledge Nodes to provide verifiable authorship, secure attribution, and provenance tracking. This specification enables knowledge contributions to be cryptographically linked to their creators while supporting various identity methods and privacy considerations.

## Status of This Document

This document is a draft specification. It is intended to provide a foundation for implementation and further refinement through community input and experimental deployments.

## 1. Introduction

### 1.1 Motivation

Verifiable authorship and provenance are essential for establishing trust in distributed knowledge systems. Traditional centralized knowledge systems rely on account-based authentication, which creates siloed identity systems and limits interoperability. IPKS requires a decentralized approach to identity that enables cross-system verification while respecting privacy and supporting various identity methods.

### 1.2 Relationship to Existing Technologies

This specification builds upon:
- W3C Decentralized Identifiers (DIDs)
- W3C Verifiable Credentials
- IPKS Core Knowledge Model
- Various DID methods (did:key, did:web, did:ethr, etc.)
- Linked Data Signatures

### 1.3 Design Goals

- Enable cryptographic verification of knowledge authorship
- Support multiple DID methods for flexibility and interoperability
- Allow selective disclosure of identity information
- Provide mechanisms for multi-party authorship
- Enable trustworthy knowledge provenance chains
- Support both human and organizational identities

## 2. Core Concepts

### 2.1 Knowledge Authorship

Knowledge authorship in IPKS refers to the cryptographically verifiable relationship between a Knowledge Node and the identity (or identities) responsible for its creation or modification.

### 2.2 Knowledge Provenance

Knowledge provenance refers to the complete history of authorship, modifications, and relationships that have contributed to the current state of a Knowledge Node.

### 2.3 Contributor Role

A contributor role defines the specific way in which an identity has contributed to a Knowledge Node, such as creator, editor, validator, or other domain-specific roles.

### 2.4 Authorship Claim

An authorship claim is a signed statement by an identity asserting a specific contributor role in relation to a Knowledge Node.

## 3. Identity Integration

### 3.1 DID Integration

Every Knowledge Node MAY include references to one or more DIDs that represent the contributors to the knowledge. These references MUST include:

```json
"contributors": [
  {
    "did": "did:method:identifier",
    "role": "URI-for-contributor-role",
    "timestamp": "ISO8601-timestamp"
  }
]
```

### 3.2 Supported DID Methods

Implementations MUST support at minimum:
- `did:key` - For simple cryptographic identities
- `did:web` - For web-based identity verification

Implementations SHOULD support:
- `did:ethr` - For Ethereum-based identities
- `did:ion` - For Sidetree-based identities
- Other methods as appropriate for their context

### 3.3 DID Resolution

Implementations MUST be able to resolve DIDs to their DID Documents according to the respective DID method specifications. This resolution is necessary for:
- Verifying signatures
- Accessing public keys
- Retrieving additional identity information

## 4. Authorship Verification

### 4.1 Signature Requirements

Every Knowledge Node that claims authorship MUST include a proof that can be used to verify the authorship claim:

```json
"proof": {
  "type": "signature-method-URI",
  "created": "ISO8601-timestamp",
  "verificationMethod": "DID#key-id",
  "proofPurpose": "assertionMethod",
  "proofValue": "base64-encoded-signature"
}
```

### 4.2 Signature Generation

Signatures MUST be generated by:
1. Serializing the Knowledge Node in canonical form without the proof field
2. Computing the signature using the private key corresponding to the DID's verification method
3. Encoding the signature according to the signature method

### 4.3 Signature Verification

Verifying an authorship claim requires:
1. Resolving the DID to obtain the DID Document
2. Identifying the correct verification method from the DID Document
3. Reconstructing the signing input by removing the proof field from the Knowledge Node
4. Verifying the signature against the signing input using the public key

### 4.4 Multiple Signatures

A Knowledge Node MAY contain multiple signatures from different DIDs, each representing a different contributor or role:

```json
"proofs": [
  {
    /* Proof for contributor 1 */
  },
  {
    /* Proof for contributor 2 */
  }
]
```

## 5. Authorship Models

### 5.1 Single Author

The simplest model where one identity creates and maintains a Knowledge Node:
- Single DID in the contributors array
- Single proof verifying the entire Knowledge Node

### 5.2 Collaborative Authorship

Multiple identities contribute to a Knowledge Node with equal standing:
- Multiple DIDs in the contributors array
- Multiple proofs, one from each contributor
- Each contributor can modify the Knowledge Node by creating a new version

### 5.3 Hierarchical Authorship

A primary author delegates specific responsibilities to other contributors:
- Primary author DID with "author" role
- Additional DIDs with specific roles like "editor", "reviewer", etc.
- Primary author's signature covers the entire Knowledge Node
- Other signatures may cover only relevant portions

### 5.4 Organizational Authorship

An organization is listed as the primary author, with individual members as sub-contributors:
- Organization DID as the primary contributor
- Individual DIDs with organizational affiliation metadata
- Organization signature (via authorized controller) on the Knowledge Node

## 6. Provenance Tracking

### 6.1 Version History

Knowledge Node versioning MUST maintain authorship information:
- Each version MUST have its own contributor information
- Previous contributors SHOULD be acknowledged in new versions
- Version chains allow tracking of how knowledge evolves across contributors

### 6.2 Derivation

When a Knowledge Node is derived from existing nodes:
- Source Knowledge Nodes MUST be referenced
- The relationship between source and derivative MUST be explicitly stated
- Authorship of source Knowledge Nodes MUST be preserved and attributed

### 6.3 Provenance Queries

Implementations SHOULD support provenance queries that allow:
- Retrieving all Knowledge Nodes created by a specific DID
- Tracing the full history of contributions to a Knowledge Node
- Identifying all contributors to a body of interconnected knowledge

## 7. Privacy Considerations

### 7.1 Selective Disclosure

Contributors MAY choose different levels of identity disclosure:
- Full DID with verifiable credentials
- Pseudonymous DID with limited disclosure
- Anonymous contributions with zero-knowledge proofs

### 7.2 Right to Be Forgotten

Implementations SHOULD support mechanisms for:
- Disassociating DIDs from Knowledge Nodes upon request
- Replacing personally identifiable DIDs with anonymized identifiers
- These mechanisms MUST preserve the integrity of the knowledge graph

### 7.3 Private Contributions

For sensitive knowledge contributions:
- Contributors MAY encrypt portions of Knowledge Nodes
- Access to contributor information MAY be restricted
- Zero-knowledge proofs MAY be used to verify authorship without revealing identity

## 8. Implementation Guidance

### 8.1 DID Resolution

Implementations MUST:
- Support standard DID resolution mechanisms
- Handle resolution failures gracefully
- Cache DID Documents when appropriate for performance
- Update cached DID Documents when signatures fail verification

### 8.2 Key Management

Implementations SHOULD:
- Support secure key storage
- Enable key rotation
- Handle key revocation
- Support multiple signature algorithms

### 8.3 Conflict Resolution

When conflicting authorship claims exist:
- Timestamp precedence SHOULD be considered
- The network of trust around DIDs SHOULD be evaluated
- Domain-specific rules MAY be applied

## 9. Security Considerations

### 9.1 Signature Aging

Implementations SHOULD:
- Consider the age of signatures when evaluating trustworthiness
- Support signature refresh/renewal for long-lived Knowledge Nodes
- Implement appropriate timestamp validation

### 9.2 DID Security

Implementations MUST:
- Validate DID syntax and method
- Verify that the DID is active and not revoked
- Check for compromised DIDs through appropriate means

### 9.3 Sybil Attack Prevention

To mitigate the risk of fake identities:
- Trust frameworks MAY be implemented
- Reputation systems MAY be used
- Social verification mechanisms MAY be employed

## 10. References

- W3C Decentralized Identifiers (DID) specification
- W3C Verifiable Credentials Data Model
- IPKS Core Knowledge Model specification
- Linked Data Signatures
- DID Method specifications

## Appendix A: Examples

[Example identity integration and verification scenarios]

## Appendix B: Recommended Signature Methods

[List of supported signature methods and their specifications]
